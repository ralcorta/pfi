<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arquitectura AWS - Diagrama Simple</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f0f0f0;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        h1 {
            text-align: center;
            color: #333;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>Arquitectura AWS - Sistema de Detección de Ransomware</h1>

        <div class="mermaid">
            graph LR
            %% External
            EXT[Tráfico de Red<br />UDP 4789]

            %% Load Balancer
            NLB[Network Load Balancer<br />mirror-nlb<br />Internal]

            %% Target Group
            TG[Target Group<br />tg-udp-4789]

            %% ECS
            ECS[ECS Service<br />mirror-sensor<br />1-5 tasks]

            %% SageMaker
            SM[SageMaker<br />sm-detector]

            %% Logs
            CW[CloudWatch<br />Logs]

            %% VPC Endpoint
            VPC_EP[VPC Endpoint<br />SageMaker Runtime]

            %% Security
            SG[Security Group<br />UDP 4789]

            %% Flow
            EXT --> NLB
            NLB --> TG
            TG --> ECS
            ECS --> SM
            ECS --> CW
            ECS --> VPC_EP
            VPC_EP --> SM
            SG --> ECS

            %% Styling
            classDef external fill:#ff6b6b,stroke:#333,stroke-width:2px,color:#fff
            classDef loadbalancer fill:#4ecdc4,stroke:#333,stroke-width:2px,color:#fff
            classDef compute fill:#45b7d1,stroke:#333,stroke-width:2px,color:#fff
            classDef ml fill:#96ceb4,stroke:#333,stroke-width:2px,color:#fff
            classDef logs fill:#feca57,stroke:#333,stroke-width:2px,color:#fff
            classDef security fill:#ff9ff3,stroke:#333,stroke-width:2px,color:#fff

            class EXT external
            class NLB,TG loadbalancer
            class ECS compute
            class SM,VPC_EP ml
            class CW logs
            class SG security
        </div>
    </div>

    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'neutral',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true
            }
        });
    </script>
</body>

</html>